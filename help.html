<!DOCTYPE html>
<html>
<head>
    <style>
        body {
            font-family: Arial, sans-serif;
			font-size: 20px;
			background-color: #000000;
			color: #ffffff;
			line-height: 1.5;
        }

        h1 {
            background-color: #808080;
            padding: 10px;
        }
		h3 {
            background-color: #505050;
            padding: 10px;
			padding-left: 20px;
        }

        .container {
            display: flex;
            justify-content: space-between;
            margin-left: 20px;
        }

        .command {
            width: 30%;
        }

        .description {
            width: 70%;
            margin-left: 20px;
        }
		
		.tab {
            margin-left: 20px;
			font-weight: normal;
			font-size: 15px;
        }
		
		.blue {
			color: #A0A0D0;
        }
		
		.bold {
			font-weight: bold;
        }
		
		.no-wrap {
			font-family: Consolas; 
			white-space: nowrap;
		}
    </style>
</head>
<body>
    <h1>SHO.CO - Interpreter</h1>
    
	<h3 style="color: red;">Expressions are evaluated from left to right, ignoring the notation</h3>
	<div class="container">
        <div class="command blue">A = 10 / 2 * 5</div>
		<div class="description">
		set A to 25 (and not 1)<br>
		(A = 10, A = A / 2, A = A * 5)</div>
    </div>	
	<!--#####################################################################################################-->
    <h3>Code Structure</h3>
    <div class="container">
        <div class="command blue">#VAR</div>
        <div class="description">variable 'VAR' is a constant</div>
    </div>
    <div class="container">
        <div class="command blue">@VAR</div>
        <div class="description">address of variable 'VAR'</div>
    </div>
    <div class="container">
        <div class="command blue">!VAR</div>
        <div class="description">read/write value from/to address of 'VAR' (pointer)</div>
    </div>
	<div class="container">
        <div class="command blue">!VAR.N</div>
        <div class="description">'N' is the array index of variable 'VAR'</div>
	</div>
	<div class="container">
		<div class="command tab blue">A = MyArray:<br>
		!A.0 = 123<br>
		!A.1 = !A.0<br>
		END<br>
		MyArray: DAT (10*0)</div>
        <div class="description"></div>
	</div>
	<div class="container">
        <div class="command blue">DAT (0 1.5 2 ...)</div>
        <div class="description">datasection with the values '0','1.5','2'...</div>
	</div>
	<div class="container">
        <div class="command blue">DAT (16 * 32)</div>
        <div class="description">datasection with the value '32',repeated '16' times</div>
	</div>
	<div class="container">
        <div class="command blue">DAT ("ABC")</div>
        <div class="description">datasection with the value 65,66,67 (ascii values of 'ABC')<br>and a trailing 0</div>
	</div>
	<div class="container">
        <div class="command blue">DAT(0 1.5 2 16*32 "ABC")</div>
        <div class="description">all datasection types can be mixed inside one single datasection</div>
	</div>
    <div class="container">
        <div class="command blue">Label:</div>
        <div class="description">Labels end with a colon (:)</div>
    </div>
	<div class="container">
        <div class="command blue">
		A = A + B + C + D<br>
		SET A + (B C D)</div>
        <div class="description">Instructions with only one parameter can be grouped together</div>
    </div>
	<div class="container">
        <div class="command blue"></div>
        <div class="description"></div>
    </div>
	<div class="container">
        <div class="command blue">A = 0 STP 1 TO 10 (...)</div>
        <div class="description">a loop consists of a sequence of 4 commands:</div>
    </div>
	<div class="container">
        <div class="command blue">A</div>
        <div class="description">set the variable 'A' as the current variable</div>
    </div>
	<div class="container">
        <div class="command blue">= 0</div>
        <div class="description">set the variable 'A' to '0'</div>
    </div>
	<div class="container">
        <div class="command blue">STP 1</div>
        <div class="description">move the contents of the C-Register to the CV-Register and load the step value into the C-Register</div>
    </div>
	<div class="container">
        <div class="command blue">TO 10</div>
        <div class="description">add the value of the C-Register to the variable in the CV-Register until it meets the end condition</div>
    </div>
	
	<!--#####################################################################################################-->
	<h3>Mathematical Instructions</h3>
	<div class="container">
        <div class="command blue bold">SET v</div>
		<div class="description">set the current variable to 'v'</div>
	</div>
    <div class="container">
        <div class="command blue bold">= v</div>
        <div class="description">set the value of the current variable to 'v'</div>
    </div>
    <div class="container">
        <div class="command blue bold">+ v</div>
        <div class="description">add 'v' to the current variable</div>
    </div>
    <div class="container">
        <div class="command blue bold">- v</div>
        <div class="description">subtract 'v' from the current variable</div>
    </div>
    <div class="container">
        <div class="command blue bold">* v</div>
        <div class="description">multiply the current variable by 'v'</div>
    </div>
    <div class="container">
        <div class="command blue bold">/ v</div>
        <div class="description">divide the current variable by 'v'</div>
    </div>
    <div class="container">
        <div class="command blue bold">% v</div>
        <div class="description">calculate the modulo of the current variable with 'v'</div>
    </div>
    <div class="container">
        <div class="command blue bold">ABS</div>
        <div class="description">make the current variable absolute</div>
    </div>
    <div class="container">
        <div class="command blue bold">NEG</div>
        <div class="description">negate the current variable</div>
    </div>
    <div class="container">
        <div class="command blue bold">MIN v</div>
        <div class="description">Set the current variable to the minimum value 'v'. If the current variable was lower than the minimum, set the Flag Register to #LO</div>
    </div>
    <div class="container">
        <div class="command blue bold">MAX v</div>
        <div class="description">Set the current variable to the maximum value 'v'. If the current variable was greater than the minimum, set the Flag Register to #GR</div>
    </div>
	<div class="container">
        <div class="command blue bold">NTH v</div>
        <div class="description">Get the digit of the current variable at index 'v'. The rightmost digit has index 0.</div>
    </div>
	<div class="container">
        <div class="command blue bold">INT</div>
        <div class="description">convert the value of current variable to integer</div>
    </div>
	<div class="container">
        <div class="command blue bold">CIL</div>
        <div class="description">round up the current variable</div>
    </div>
	<div class="container">
        <div class="command blue bold">RND</div>
        <div class="description">set current variable to a random value between 0.0 and 1.0</div>
    </div>

	<!--#####################################################################################################-->
    <h3>Program Flow</h3>
    <div class="container">
        <div class="command blue bold">JMP adr</div>
        <div class="description">jump to address 'adr'</div>
    </div>
    <div class="container">
        <div class="command blue bold">JMF flag adr</div>
        <div class="description">jump to address 'adr' if Flag-Register equals 'flag'</div>
    </div>
    <div class="container">
        <div class="command blue bold">STP step:</div>
        <div class="description">copy the contents of the C-Register to the CV-Register and load 'step' into the C-Register</div>
    </div>
	<div class="container">
        <div class="command blue bold">TO limit (...)</div>
        <div class="description"> execute the code inside the brackets until the variable in the CV-Register reaches the 'limit'. Before each loop, the value of the C-Register is added to the variable in the CV-Register<br> 
		</div>
    </div>
	<div class="container">
        <div class="command blue bold">BRK level</div>
        <div class="description">exit a loop. 'level' specifies from which loop to break, particularly in the case of nested loops<br> 
		</div>
    </div>
    <div class="container">
        <div class="command blue bold">? flag (...)</div>
        <div class="description">execute the code inside the brackets if the Flag-Register equals 'flag'</div>
    </div>
    <div class="container">
        <div class="command blue bold">&lt; v (...)</div>
        <div class="description">execute the code inside the brackets if the current variable is less than 'v'</div>
    </div>
    <div class="container">
        <div class="command blue bold">&gt; v (...)</div>
        <div class="description">execute code inside the brackets if the current variable is greater than 'v'</div>
    </div>
    <div class="container">
        <div class="command blue bold">&le; v (...)</div>
        <div class="description">execute the code inside the brackets if the current variable is less or equal 'v'</div>
    </div>
    <div class="container">
        <div class="command blue bold">&ge; v (...)</div>
        <div class="description">execute the code inside the brackets if the current variable is greater or equal 'v'</div>
    </div>
    <div class="container">
        <div class="command blue bold">== v (...)</div>
        <div class="description">execute the code inside the brackets if the current variable is equal to 'v'</div>
    </div>
    <div class="container">
        <div class="command blue bold">&lt;&gt; v (...)</div>
        <div class="description">execute the code inside the brackets if the current variable is not 'v'</div>
    </div>
    <div class="container">
        <div class="command blue bold">ELSE</div>
        <div class="description">execute the code inside the brackets if the previous query was false</div>
	</div>	
    <div class="container">
        <div class="command blue bold">CAL address</div>
        <div class="description">call a subroutine at 'address'</div>
    </div>
    <div class="container">
        <div class="command blue bold">RET</div>
        <div class="description">return from a subroutine (CAL)</div>
    </div>
	<div class="container">
        <div class="command blue bold">KIL</div>
        <div class="description">is called when the current Opcode is not valid</div>
    </div>
	<div class="container">
        <div class="command blue bold">END</div>
        <div class="description">stop the program</div>
    </div>
    
	<!--#####################################################################################################-->
	<h3>Stack</h3>
    <div class="container">
		<div class="command blue bold">PSH v</div>
		<div class="description">push 'v' to the stack</div>
	</div>
	<div class="container">
		<div class="command blue bold">POP v</div>
		<div class="description">pop 'v' from the stack</div>
	</div>
    <div class="container">
        <div class="command blue bold">PSF</div>
        <div class="description">push Flag-Register to the stack</div>
    </div>
    <div class="container">
        <div class="command blue bold">POF</div>
        <div class="description">pop value from the stack to the Flag-Register</div>
    </div>
	<div class="container">
        <div class="command blue bold">PSC</div>
        <div class="description">push CV- and C-Register to the stack (particularly for nested loops)</div>
    </div>
    <div class="container">
        <div class="command blue bold">POC</div>
        <div class="description">pop CV- and C-Register from the stack (particularly for nested loops)</div>
    </div>
	<!--#####################################################################################################-->
    <h3>Drawing</h3>
    <div class="container">
        <div class="command blue bold">SCR width height</div>
        <div class="description">opens a screen with the dimensions 'width' and 'height'</div>
    </div>
	<div class="container">
        <div class="command blue bold">CLS color</div>
        <div class="description">clear the video-RAM with 'color'</div>
    </div>
    <div class="container">
        <div class="command blue bold">DRW</div>
        <div class="description">draw the current video-RAM</div>
    </div>
    <div class="container">
        <div class="command blue bold">CHS width height</div>
        <div class="description">set the width and height of the CHR function</div>
    </div>
    <div class="container">
        <div class="command blue bold">CHR adr</div>
        <div class="description">
		copy a block of data from 'adr' to the VRAM-address stored in the current variable. The value of the FLAG-Register controls the output:<br>
		0 - normal mode<br>
		1 - rotate 90&deg;<br>
		2 - rotate 180&deg;<br>
		3 - rotate 270&deg;<br>
		4 - flip x-Axis<br>
		5 - flip y-Axis
		</div>
    </div>
    <div class="container">
        <div class="command blue bold">CLF color</div>
        <div class="description">set the front color</div>
    </div>
    <div class="container">
        <div class="command blue bold">CLB color</div>
        <div class="description">set the background color</div>
    </div>
    <div class="container">
        <div class="command blue bold">PLT x y</div>
        <div class="description">plot a pixel with the current color (CLF) at location x/y</div>
    </div>
    
	<!--#####################################################################################################-->
	<h3>Input</h3>
	<div class="container">
        <div class="command blue bold">INP</div>
		<div class="description">set the Flag-Register to 1 if any key is pressed (otherwise the Flag-Register is set to 0)</div>
	</div>
	<div class="container">
        <div class="command blue bold">KEY v</div>
		<div class="description">set the Flag-Register to 1 if the key with the identifier 'v' is pressed (otherwise the Flag-Register is set to 0)</div>
	</div>
		
	<!--#####################################################################################################-->
	<h3>Sound</h3>
	<div class="container">
        <div class="command blue bold">SNL sound "path"</div>
		<div class="description">load a soundfile from "path" and store the handle in 'sound'</div>
	</div>
	<div class="container">
        <div class="command blue bold">SNP sound state</div>
		<div class="description">set the current 'state' of the 'sound' (if 'sound' is zero, set the status for all sounds.)<br>
		0 - stop 'sound'<br>
		1 - play 'sound'<br>
		2 - pause 'sound'</div>
	</div>
	<div class="container">
        <div class="command blue bold">SNS sound</div>
		<div class="description">get current state of the 'sound'<br>
		0 - 'sound' is stopped<br>
		1 - 'sound' is playing<br>
		2 - 'sound' is paused</div>
	</div>
	<!--#####################################################################################################-->
	<h3>Misc</h3>
	<div class="container">
        <div class="command blue bold">DLY v</div>
        <div class="description">pause for 'v' milliseconds</div>
    </div>
    <div class="container">
        <div class="command blue bold">WRT v</div>
        <div class="description">write the value 'v' to the address stored in the current variable, then increase the current variable by 1</div>
    </div>
    <div class="container">
        <div class="command blue bold">KEY v</div>
        <div class="description">write the currently pressed key (or 0 if there was none) to 'v'</div>
    </div>
    <div class="container">
        <div class="command blue bold">DBG variable</div>
        <div class="description">show the content of 'variable'</div>
    </div>

	<!--#####################################################################################################-->
	<h3>RAM Layout</h3>
	<div class="container">
        <div class="command"></div>
        <div class="description no-wrap">
		|-------------------------RAM--------------------------|<br>
		|program-space-->|<--V|VP|S|SP|CL|CI|T|CM|CH|CW|CB|CF|C|<br>
		<br>
		RAM - total nr. of slots<br>
		V - variables<br>
		CP - variable pointer (constant #VARIABLE)<br>
		S - stack<br>
		SP - stack pointer (constant #STACK)<br>
		CI - collision ID (constant #COLLISIONID)<br>
		CL - collision occured (constant #COLLISION)<br>
		T - time (constant #TIME)<br>
		CM - char drawing mode (constant #CHAR_MODE)<br>
		CH - char height (constant #CHAR_H)<br>
		CW - char width (constant #CHAR_W)<br>
		CB - background color (constant #BACKCOLOR)<br>
		CF - front color (constant #FRONTCOLOR)<br>
		C - colors (256 slots) (constant #COLOR)<br>
		</div>
    </div>
</body>
</html>